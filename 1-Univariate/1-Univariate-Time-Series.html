<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>1: Univariate Time Series</title>
    <meta charset="utf-8" />
    <meta name="author" content="J. Seawright" />
    <script src="1-Univariate-Time-Series_files/header-attrs-2.18/header-attrs.js"></script>
    <link href="1-Univariate-Time-Series_files/remark-css-0.0.1/shinobi.css" rel="stylesheet" />
    <script src="1-Univariate-Time-Series_files/htmlwidgets-1.5.4/htmlwidgets.js"></script>
    <link href="1-Univariate-Time-Series_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="1-Univariate-Time-Series_files/datatables-binding-0.27/datatables.js"></script>
    <script src="1-Univariate-Time-Series_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="1-Univariate-Time-Series_files/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="1-Univariate-Time-Series_files/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="1-Univariate-Time-Series_files/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
    <link href="1-Univariate-Time-Series_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="1-Univariate-Time-Series_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# 1: Univariate Time Series
]
.subtitle[
## Time Series and Panels
]
.author[
### <large>J. Seawright</large>
]
.institute[
### <small>Northwestern Political Science</small>
]
.date[
### Wednesday, 29 March, 2023
]

---

class: center, middle




---
# Business

- &lt;font size="10"&gt;Office Hours&lt;/font&gt;
- &lt;font size="10"&gt;Three lab assignments&lt;/font&gt;
- &lt;font size="10"&gt;Final paper&lt;/font&gt;

---
class: center, middle

&lt;font size="10"&gt;Univariate time series are less common than panels in the social sciences.&lt;/font&gt;

---
class: center, middle

&lt;font size="10"&gt;Nevertheless, they have important uses. For example, consider the hypothesis that Alex Jones's importance covaries with attention to Donald Trump.&lt;/font&gt;

---
class: middle


```r
library(DT)

ajgoogle &lt;- read.csv("C:/Users/jnsno/OneDrive - Northwestern University/Seawright Teaching/TSCS Teaching/ajgoogle.csv")
```

---
class: center, middle


```r
library(DT)

ajgoogle %&gt;% datatable()
```

<div id="htmlwidget-1b93446198f5b09bada7" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1b93446198f5b09bada7">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96],["2015-01","2015-02","2015-03","2015-04","2015-05","2015-06","2015-07","2015-08","2015-09","2015-10","2015-11","2015-12","2016-01","2016-02","2016-03","2016-04","2016-05","2016-06","2016-07","2016-08","2016-09","2016-10","2016-11","2016-12","2017-01","2017-02","2017-03","2017-04","2017-05","2017-06","2017-07","2017-08","2017-09","2017-10","2017-11","2017-12","2018-01","2018-02","2018-03","2018-04","2018-05","2018-06","2018-07","2018-08","2018-09","2018-10","2018-11","2018-12","2019-01","2019-02","2019-03","2019-04","2019-05","2019-06","2019-07","2019-08","2019-09","2019-10","2019-11","2019-12","2020-01","2020-02","2020-03","2020-04","2020-05","2020-06","2020-07","2020-08","2020-09","2020-10","2020-11","2020-12","2021-01","2021-02","2021-03","2021-04","2021-05","2021-06","2021-07","2021-08","2021-09","2021-10","2021-11","2021-12","2022-01","2022-02","2022-03","2022-04","2022-05","2022-06","2022-07","2022-08","2022-09","2022-10","2022-11","2022-12"],[3,3,3,0,5,3,4,3,5,2,0,9,6,5,3,5,2,3,9,5,4,11,10,8,6,12,19,41,14,37,15,8,5,13,3,0,9,9,12,20,10,9,21,68,27,13,8,27,9,24,27,5,6,12,4,21,5,0,17,0,4,5,8,7,9,6,0,11,6,24,13,12,17,18,11,11,9,7,13,8,6,7,7,10,3,10,13,13,9,9,14,100,23,48,20,31],[1,0,0,0,0,4,10,14,11,7,8,14,14,24,42,19,23,22,36,31,31,64,100,29,71,51,36,25,34,29,26,32,23,26,23,23,27,21,21,22,19,23,25,26,23,23,22,24,28,22,17,16,16,18,21,21,22,26,23,32,26,27,39,31,25,46,34,37,38,69,89,31,60,18,9,7,7,8,8,8,7,7,6,6,6,8,7,5,5,7,9,11,8,6,11,8],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-5.5,-11.25,-15.25,-12.75,-15.6,-18.5,-19.4,-22.75,-19.25,-21,-20,-21,-19.8,-18,-16.5,-13.8,-12.5,-10.5,-12.8,-13,-14.75,-10.2,-16.5,-17,-22,-9.5,-18,-5,-12.5,-12.5,-9.5,-15.5,-13.5,-17,-11,-6,-5,-1.5,-2,-4.5,-8.5,-19,-14,-14,-9,-6,-12,-18,-28,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X.1<\/th>\n      <th>X<\/th>\n      <th>month<\/th>\n      <th>alexjones<\/th>\n      <th>donaldtrump<\/th>\n      <th>trumpapproval<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>


---
class: middle


```r
library(lubridate)
```

```
## Loading required package: timechange
```

```
## 
## Attaching package: 'lubridate'
```

```
## The following objects are masked from 'package:base':
## 
##     date, intersect, setdiff, union
```

```r
ym(ajgoogle$month)
```

```
##  [1] "2015-01-01" "2015-02-01" "2015-03-01" "2015-04-01" "2015-05-01"
##  [6] "2015-06-01" "2015-07-01" "2015-08-01" "2015-09-01" "2015-10-01"
## [11] "2015-11-01" "2015-12-01" "2016-01-01" "2016-02-01" "2016-03-01"
## [16] "2016-04-01" "2016-05-01" "2016-06-01" "2016-07-01" "2016-08-01"
## [21] "2016-09-01" "2016-10-01" "2016-11-01" "2016-12-01" "2017-01-01"
## [26] "2017-02-01" "2017-03-01" "2017-04-01" "2017-05-01" "2017-06-01"
## [31] "2017-07-01" "2017-08-01" "2017-09-01" "2017-10-01" "2017-11-01"
## [36] "2017-12-01" "2018-01-01" "2018-02-01" "2018-03-01" "2018-04-01"
## [41] "2018-05-01" "2018-06-01" "2018-07-01" "2018-08-01" "2018-09-01"
## [46] "2018-10-01" "2018-11-01" "2018-12-01" "2019-01-01" "2019-02-01"
## [51] "2019-03-01" "2019-04-01" "2019-05-01" "2019-06-01" "2019-07-01"
## [56] "2019-08-01" "2019-09-01" "2019-10-01" "2019-11-01" "2019-12-01"
## [61] "2020-01-01" "2020-02-01" "2020-03-01" "2020-04-01" "2020-05-01"
## [66] "2020-06-01" "2020-07-01" "2020-08-01" "2020-09-01" "2020-10-01"
## [71] "2020-11-01" "2020-12-01" "2021-01-01" "2021-02-01" "2021-03-01"
## [76] "2021-04-01" "2021-05-01" "2021-06-01" "2021-07-01" "2021-08-01"
## [81] "2021-09-01" "2021-10-01" "2021-11-01" "2021-12-01" "2022-01-01"
## [86] "2022-02-01" "2022-03-01" "2022-04-01" "2022-05-01" "2022-06-01"
## [91] "2022-07-01" "2022-08-01" "2022-09-01" "2022-10-01" "2022-11-01"
## [96] "2022-12-01"
```

---
class: center, middle


```r
ajgoogle.ts &lt;- ts(ajgoogle, start=2015, frequency=12)
plot.ts(ajgoogle.ts)
```

![](1-Univariate-Time-Series_files/figure-html/unnamed-chunk-4-1.png)&lt;!-- --&gt;


---
class: middle


```r
naive_aj_regression &lt;- lm(alexjones ~ donaldtrump + trumpapproval, data=ajgoogle)

summary(naive_aj_regression)
```

```
## 
## Call:
## lm(formula = alexjones ~ donaldtrump + trumpapproval, data = ajgoogle)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -14.995  -6.838  -2.959   4.030  54.661 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)  
## (Intercept)   11.01418    6.14478   1.792   0.0796 .
## donaldtrump   -0.01181    0.12082  -0.098   0.9226  
## trumpapproval -0.20249    0.31022  -0.653   0.5172  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 12.32 on 46 degrees of freedom
##   (47 observations deleted due to missingness)
## Multiple R-squared:  0.00975,	Adjusted R-squared:  -0.0333 
## F-statistic: 0.2265 on 2 and 46 DF,  p-value: 0.7982
```

---
class: center, middle


```r
plot(naive_aj_regression, 1)
```

![](1-Univariate-Time-Series_files/figure-html/unnamed-chunk-6-1.png)&lt;!-- --&gt;

---
## White Noise
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$E(a_{t}) - E(a_{t-1}) = \cdots = 0$$`

`$$E(a_{t}^2) = E(a^2_{t-1}) = \cdots = \sigma^2$$`

`$$\forall (j,k) E(a_{t} a_{t-j}) = E(a_{t-k}a_{t-k-j}) = 0$$`


---
# Lag Operator

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$\Delta^2 y_{t} = (1 - L)^2 y_{y} = y_{t} - 2 y_{t-1} + y_{t-2}$$`
---
# Lag Operator

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
It is important to know that, for `\(|\alpha| &lt; 1\)`:
&lt;br&gt;
&lt;br&gt;
`$$(1 + \alpha L + \alpha^2 L^2 + \cdots)y_{t} = \frac{y_{t}}{(1-\alpha L)}$$`

---
# Autoregression

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = \phi_{1} y_{t-1} + \phi_{2} y_{t-2} + \cdots + \phi_{p} y_{t-p} + a_{t}$$`

`$$-1 \leq \phi_{k} \leq 1$$`


---
# Autoregression 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = \phi_{1} y_{t-1}+ a_{t}$$`

---
# Autoregression 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = \phi_{1} (\phi_{1} y_{t-2} +a_{t-1})+ a_{t}$$`

---
# Autoregression 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = \phi_{1} (\phi_{1} (\phi_{1} y_{t-3} +a_{t-2}) +a_{t-1})+ a_{t}$$`

---
# Autoregression 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = \sum_{i=0}^{\infty}\phi^{i}_{1} a_{t-i}$$`


---
# Moving Average

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = a_{t} + \theta_{1} a_{t-1} + \theta_{2} a_{t-2} + \cdots - \theta{k} a_{t-k}$$`


---
# Moving Average 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = a_{t} - \theta_{1} a_{t-1}$$`


---
# Moving Average 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = (1 - \theta L)a_{t}$$`


---
# Moving Average 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t - 1} = a_{t - 1} - \theta_{1} a_{t-2}$$`
`$$a_{t - 1} =  y_{t - 1} + \theta_{1} a_{t-2}$$`

---
# Moving Average 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = a_{t} - \theta_{1} (y_{t - 1} + \theta_{1} a_{t-2})$$`


---
# Moving Average 1

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
`$$y_{t} = a_{t} - \sum_{i=1}^{\infty}\theta^{i}_{1} y_{t-i}$$`

---
# Invertibility
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

Autoregressive models and moving average models are intimately interrelated.

--
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

Most of the time, a finite-order MA process has an equivalent infinite order AR process.

--
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

Any stationary AR process has an equivalent infinite MA process.


---
# Invertibility

`$$y_{t} = \phi_{1} y_{t-1} + a_{t}$$`

`$$y_{t} = \phi_{1} L y_{t} + a_{t}$$`
`$$a_{t} = y_{t} - \phi_{1} L y_{t}$$`
`$$a_{t} = (1 - \phi_{1} L) y_{t}$$`
`$$y_{t} = \sum_{i=0}^{\infty}\phi^{i}_{1} a_{t-i}$$`

`$$y_{t} = \sum_{i=0}^{\infty}\phi^{i}_{1} (1 - \phi_{1} L) y_{t - i}$$`

`$$y_{t} = \sum_{i=0}^{\infty}\phi^{i}_{1} (1 - \phi_{1} L) L^i y_{t}$$`

`$$y_{t} = \frac{a_{t}}{(1-\phi_{1} L)}$$`

---
# Invertibility

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
There is a similar process that can be undertaken to move in the opposite direction. 

---
# MA Invertibility

The necessary condition for invertibility of an MA process is that the `\(\theta\)` coefficients have values such that the equation `\(1 - \theta_{1} y - \cdots - \theta_{q} y^{q} = 0\)` has solutions for that fall outside the unit circle.

---
#ACF: Autocorrelation function


`$$ACF(k) = \frac{cov(y_{t},y_{t+k})}{var(y_{t})}$$`

---
class: center, middle


```r
acf(ajgoogle$alexjones)
```

![](1-Univariate-Time-Series_files/figure-html/unnamed-chunk-7-1.png)&lt;!-- --&gt;
---
#ACF

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
- For an `\(MA(k)\)` process, `\(ACF(j) \approx 0\)` for all `\(j&gt;k\)`.

- For an `\(AR(k)\)` process, the ACF will gradually converge toward zero. 

---
#Seasonality

---
#PACF: Partial autocorrelation function
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
- The PACF is the ACF after controlling for the intervening observations.


---
class: center, middle


```r
pacf(ajgoogle$alexjones)
```

![](1-Univariate-Time-Series_files/figure-html/unnamed-chunk-8-1.png)&lt;!-- --&gt;

---
#PACF
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
- For an `\(AR(k)\)` process, `\(PACF(j) \approx 0\)` for all `\(j&gt;k\)`.

- For an `\(MA(k)\)` process, `\(PACF(j) \approx 0\)` for all `\(j&gt;k\)`.

---
#ARIMA
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
- Now that we have determined whether we have an AR or an MA process, it would be nice to estimate the parameters involved.

- These are the `\(\Phi\)` parameters for AR models and the `\(\Theta\)` parameters for MA models.

- We can estimate these using a maximum-likelihood model, using our data and a specification of the time-series process of interest.

---
class: left, middle


```r
alexjones.arima &lt;- arima(ajgoogle$alexjones, order=c(2,0,0))
alexjones.arima
```

```
## 
## Call:
## arima(x = ajgoogle$alexjones, order = c(2, 0, 0))
## 
## Coefficients:
##          ar1     ar2  intercept
##       0.2192  0.2642    12.2611
## s.e.  0.0984  0.0985     2.4907
## 
## sigma^2 estimated as 163.7:  log likelihood = -381.04,  aic = 770.09
```

---
class: left, middle


```r
alexjones.arima &lt;- arima(ajgoogle$alexjones, order=c(3,0,0))
alexjones.arima
```

```
## 
## Call:
## arima(x = ajgoogle$alexjones, order = c(3, 0, 0))
## 
## Coefficients:
##          ar1     ar2     ar3  intercept
##       0.2177  0.2629  0.0061    12.2653
## s.e.  0.1015  0.1008  0.1049     2.5073
## 
## sigma^2 estimated as 163.7:  log likelihood = -381.04,  aic = 772.08
```

---
class: left, middle


```r
alexjones.arima &lt;- arima(ajgoogle$alexjones, order=c(0,0,2))
alexjones.arima
```

```
## 
## Call:
## arima(x = ajgoogle$alexjones, order = c(0, 0, 2))
## 
## Coefficients:
##          ma1     ma2  intercept
##       0.2245  0.2452    12.2138
## s.e.  0.1018  0.0873     1.9376
## 
## sigma^2 estimated as 168.5:  log likelihood = -382.4,  aic = 772.79
```

---
class: center, middle


```r
alexjones.arima &lt;- arima(ajgoogle$alexjones, order=c(2,0,0))
acf(alexjones.arima$residuals)
```

![](1-Univariate-Time-Series_files/figure-html/unnamed-chunk-12-1.png)&lt;!-- --&gt;

---
class: center, middle


```r
pacf(alexjones.arima$residuals)
```

![](1-Univariate-Time-Series_files/figure-html/unnamed-chunk-13-1.png)&lt;!-- --&gt;

---
#Q Statistic

`$$Q=T(T+2) \sum_{k=1}^{s} \frac{r^{2}_{k}}{T-k}$$`

---
class: left, middle


```r
library(stats)
Box.test(alexjones.arima$residuals, lag=12, type="Ljung-Box", fitdf=2)
```

```
## 
## 	Box-Ljung test
## 
## data:  alexjones.arima$residuals
## X-squared = 2.712, df = 10, p-value = 0.9874
```

---
#Interventions

- Abrupt

- Pulse

- Abrupt with decay

- Gradual

- Etc.

---
&lt;img src="clarke1.jpg" width="100%" /&gt;

---
&lt;img src="clarke2.jpg" width="100%" /&gt;

---
&lt;img src="clarke3.jpg" width="100%" /&gt;

---
&lt;img src="stolzenberg1.jpg" width="100%" /&gt;

---
&lt;img src="stolzenberg2.jpg" width="100%" /&gt;

---
&lt;img src="stolzenberg3.jpg" width="100%" /&gt;




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
